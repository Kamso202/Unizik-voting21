document.addEventListener(\'DOMContentLoaded\', () => {\n    const registrationForm = document.getElementById(\'voter-registration-form\');\n    const messageElement = document.getElementById(\'registration-message\'); // Assuming you add a message element to your HTML\n    const API_BASE_URL = \'http://localhost:3000/api\';\n\n    registrationForm.addEventListener(\'submit\', async (e) => {\n        e.preventDefault();\n\n        const student_id = document.getElementById(\'student-id\').value;\n        const metamask_address = document.getElementById(\'metamask-address\').value;\n        const password = document.getElementById(\'password\').value;\n        const confirmPassword = document.getElementById(\'confirm-password\').value;\n\n        if (password !== confirmPassword) {\n            messageElement.textContent = \'Passwords do not match!\';\n            messageElement.style.color = \'red\';\n            return;\n        }\n\n        messageElement.textContent = \'\'; // Clear previous messages\n\n        try {\n            const response = await fetch(`${API_BASE_URL}/voters/register\`, {\n                method: \'POST\',\n                headers: { \'Content-Type\': \'application/json\' },\n                body: JSON.stringify({ student_id, metamask_address, password })\n            });\n\n            const data = await response.json();\n\n            if (response.ok) {\n                messageElement.textContent = \'Registration successful! Redirecting to login...\';\n                messageElement.style.color = \'green\';\n                setTimeout(() => {\n                    window.location.href = \'voter-login.html\';\n                }, 2000);\n            } else {\n                messageElement.textContent = data.message || \'Registration failed. Please try again.\';\n                messageElement.style.color = \'red\';\n            }\n        } catch (err) {\n            console.error(\'Registration Error:\', err);\n            messageElement.textContent = \'An error occurred. Please check the server connection.\';\n            messageElement.style.color = \'red\';\n        }\n    });\n});\n